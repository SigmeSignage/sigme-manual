<!--toc=widgets-->

# 予定表

予定表ウィジェットは、**iCalフィード**に基づくアジェンダを表示するために使用されます。

## ウェジェットを追加
[ウィジェット](layouts_widgets.html)ツールバーの**予定表**をクリックし、追加またはドラッグ＆ドロップします。![Agenda Widget](img\v3.1_media_agenda_widget.png)

追加すると、設定オプションがプロパティパネルに表示されます。

- 識別しやすいように**名前**を記入してください。
- 必要であれば、デフォルトの**期間**をオーバーライドするよう選択します。

- 継続時間を**アイテムごと**にするか、未設定のままフィードごとの継続時間を設定するかを選択します。

### 設定

![Calendar Configuration](img\v3.1_media_agenda_configuration.png)

- リンクするiCalの**URL**を指定してください。
- **間隔**フィールドを使用して、特定の期間のイベントをフィルタリングします。'1 day'や'2 weeks'のような自然言語を使用して、選択した期間内のイベントを返します。
- チェックボックスをオンにすると、開始日と終了日が定義された**日付範囲**を代わりに入力することができます。
- iCalフィードから表示したい**項目数**/イベントの数を指定します。
- **終日イベントを除外する**を選択すると、フィードから削除され、表示されなくなります。
- **現在のイベントのみを表示する**を選択すると、フィードから他のイベントがすべて非表示になります。
- フィードから除外して表示しない場合は、**現在のイベントを除外する**を選択します。
- **イベントタイムゾーンを使用する**を選択するか、代わりにCMSタイムゾーンの使用を選択解除します。
- フィードが独自のタイムゾーンを使用するように指定している場合は、**カレンダータイムゾーンを使用する**を選択します。CMSのタイムゾーンを使用する場合は、選択を解除してください。
- フィードが**Windows形式のカレンダー**から来る場合、このチェックボックスを使用します。

### 外観

- オプションで**背景色**を選択するか、空白のままにしておくと透明なままになります。
- **日付の形式**」フィールドを使用して、イベントの適切な日付/時刻の形式を表示するようにします。

{tip}
このページの一番下にある表で、PHP の日付フォーマット参照してください。
{/tip}

- カレンダーの項目を並べて表示する場合は、チェックボックスを使用します。

- 項目間の遷移に使用する**エフェクト**をドロップダウンメニューから選択します。

  エフェクトを選択すると、ページごとに表示するイベント数を指定するオプションが追加表示されます。

  {tip}
  エフェクトを選択すると、ページごとに表示するイベント数を指定するオプションが追加表示されます。
  {/tip}

### テンプレート

テンプレートタブをクリックします。

![Calendar Template Tab](img\v3.1_media_agenda_template.png)

#### メイン

- **ビジュアルエディタをトグル **オン** して、インラインエディタを使用してメインテンプレートをフォーマットします。
- 編集アイコンをクリックすると開きます

![Calendar Main Editor](img\v3.1_media_agenda_main.png)

- フィードから必要なイベント情報を取り込むために、**スニペット**メニューからテキストマージフィールドを含めることができます。

{tip}
 '[ Date ]` フィールドはオプションのフォーマット `[Date|format]` を含むことができ、 `[Date]` を異なるフォーマットでテンプレート内で複数回使用し、日付の各要素に対して異なるスタイリングを可能にすることができます。
{/tip}

- クリックで**保存**。

#### 現在のイベント

現在のイベントを表示するための代替テキストと書式を設定します。 [[PRODUCTNAME]]はプレーヤーの日付/時刻を使用して、表示されているイベントが最新のものかどうかを判断し、最新イベントテンプレートに切り替えます。

- **現在のイベントの代替テンプレートを使用する**にチェックを入れてください。

- テキストを入力し、利用可能な**スニペット**から選択すると**現在のイベント**だけに使用されるテンプレートが作成されます。

- 変更を**保存**

### データなしのテンプレート

このテンプレートに、iCalフィードからイベントが返されなかったときに、空白の表示にならないようにするためのメッセージを表示します。

### オプションのスタイルシート

テンプレートの構成に適用するCSS。

### キャッシュ

**更新間隔**に適切な時間を分単位で入力し、可能な限り高く設定します。これは、iCalフィードからデータが要求される頻度を決定します。カレンダーが数日前にスケジュールされたイベントしか変更されない場合は、これを長い期間に設定できます。

{tip}
リモートフィードにはできるだけ接しないようにするのがベストプラクティスです。
{/tip}

## トリガー

このタブを使用して、**現在のイベント**または**イベントなし**があるときにウェブフック**アクション**をトリガーすることができます!

{tip}

**シナリオの例**:

あるユーザーが、会議室カレンダーをアジェンダウィジェットで設定し、会議室の現在の使用状況を表示させ、空室時または使用中のLEDライトを変更したいと考えています。

- ユーザーはまず、LED IoT デバイスまたは Philips 社の商用ディスプレイの一部に搭載されている LEDS にコマンドを発行する **シェルコマンド** を作成する必要があります。
- 次に、[インタラクティブアクション](layouts_interactive_actions.html)を **レイアウト** 上に定義する必要があり、これは **ウィジェットに移動** して **画面をターゲット** にし、**インタラクティブドロワー** に設定された **シェルコマンドウィジェット** を使用するものです。
- 予定表ウィジェットの**トリガー**タブを使用して、**現在のイベント**と**イベントなし**の**ウェブフック**をトリガーするコードを割り当てます。


{white}
どのようなコマンドを使用するかについては、管理者に相談してください。
{/white}

{/tip}

## アクション

このウィジェットにはアクションを付けることができます。詳しくは、[インタラクティブアクション](layouts_interactive_actions.html)のページを参照してください。


## データフォーマット - PHP

[[PRODUCTNAME]]は、PHPの正しい日付書式であればどのようなものでも受け入れるはずです。以下の文字が認識され、使用することができます。

| フォーマット文字 | 説明                                                  | 返される文字の例                 |
| ---------------- | :----------------------------------------------------------- | --------------------------------------- |
|                  | **日**                                                      |                                         |
| d                | ゼロから始まる２桁の日付              | 01 から 31                                |
| D                | 日を表すテキスト, ３文字            | Mon から Sun                         |
| j                | ゼロをつけない日付                       | 1 から 31                                 |
| l                | (小文字‘L’) 日を表す完全な文字列 | Sunday から Saturday                 |
| N                | ISO-8601で定義された曜日を表す数字(PHP 5.1.0で追加された) | 1 (月曜日) から 7 (日曜日)   |
| S                | 日にちに対する英語の序数サフィックス、2文字| st, nd, rd または thとともに使われる     |
| w                | 曜日の数字表現         | 0 (Sunday) から 6 (Saturday) |
| z                | 年初からの日（0から始まる)                        | 0 から 365                           |
|                  | **週**                                                     |                                         |
| W                | ISO-8601で規定する週の数字, 週は月曜日から始まる(PHP 4.1.0で追加) | 42 (一年の中の４２週目)          |
|                  | **月**                                                    |                                         |
| F                | 月のテキスト表現, January や March | January から December                |
| m                | ゼロで始まる月の数字表現        | 01 から 12                           |
| M                | 月の短いテキスト表現、３文字     | Jan から Dec                         |
| n                | 月の数字表現、先頭にゼロはつかない| 1 から 12                            |
| t                | 月の日数                            | 28 から 31                           |
|                  | **年**                                                     |                                         |
| L                | うるう年かどうか year                                     | 1 うるう年, 0 それ以外.    |
| o                | ISO-8601できていされた年. これはYと同じ値です。ただし、ISOの週番号（W）が前後の年に属している場合は、その年が代わりに使用されます。(PHP 5.1.0で追加) | 1999 または 2003                            |
| Y                | 年の４桁数字表現            | 1999 または 2003                            |
| y                | 年の２桁数字表現                         | 99 or 0                                 |
|                  | **時間**                                                     |                                         |
| a                | 小文字アンティメリディアムとポストメリディアム                    | am または pm                                |
| A                | 大文字アンティメリディアムとポストメリディアム                    | AM または PM                                |
| B                | スウォッチインターネット時間                                         | 000 から 999                         |
| g                | 先行ゼロなしの時間の12時間形式              | 1 から 12                            |
| G                | 先行ゼロなしの時間の24時間形式              | 0 から 23                            |
| h                | 先行ゼロありの時間の12時間形式                 | 01 から 12                           |
| H                | 先行ゼロありの時間の２４時間形式                 | 00 から 23                           |
| i                | 先行ゼロ付き分                                   | 00 から 59                                |
| s                | 先行ゼロ付き秒                                  | 00 から 59                           |
| u                | マイクロ秒（PHP 5.2.2で追加） DateTimeがマイクロ秒で作成された場合、DateTime :: format（）はマイクロ秒をサポートするのに対して、date（）は常に000000を生成します。 | 654321                                  |
|                  | **タイムゾーン**                                                 |                                         |
| e                | タイムゾーン識別子（PHP 5.1.0で追加）                     | UTC, GMT, Atlantic/Azores               |
| I                | （大文字のi）日付が夏時間であるかどうか| 夏時間の場合は1、それ以外の場合は0です。 |
| O                | グリニッジ時間（GMT）との時差                  | +0200                                   |
| P                | グリニッジ標準時（GMT）と時間と分の間の差（PHP 5.1.3で追加） | +02:00                                  |
| T                | タイムゾーンの略語                                        | EST, MDT …                              |
| Z                | 秒単位のタイムゾーンオフセット。 UTCより西のタイムゾーンのオフセットは常に負で、UTCより東のタイムゾーンのオフセットは常に正です。 | -43200 through 50400                    |
|                  | **フル日付/時刻**                                           |                                         |
| c                | ISO 8601 日付（PHP 5で追加）                               | 2004-02-12T15:19:21+00:00               |
| r                | » RFC 2822 フォーマット日付                                    | Thu, 21 Dec 2000 16:01:07 +0200         |

~                                                                                                                     
